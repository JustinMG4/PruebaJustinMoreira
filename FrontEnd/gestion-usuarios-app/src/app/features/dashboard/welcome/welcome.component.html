<div class="welcome-container">
  <div *ngIf="isLoading()" class="spinner-container">
    <mat-spinner></mat-spinner>
  </div>

  <div *ngIf="!isLoading() && user()" class="content">
    <h1>隆Bienvenido, {{ user()?.name }}! </h1>
    <p class="subtitle">Aqu铆 tienes un resumen de tu informaci贸n y tu 煤ltima actividad.</p>

    <div class="cards-container">
      <mat-card class="info-card">
        <mat-card-header>
          <mat-card-title>Informaci贸n Personal</mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <p><strong>Nombre Completo:</strong> {{ user()?.name }} {{ user()?.lastName }}</p>
          <p><strong>Identificaci贸n:</strong> {{ user()?.identification }}</p>
          <p><strong>Email Principal:</strong> {{ user()?.email }}</p>
        </mat-card-content>
      </mat-card>

      <mat-card class="info-card">
        <mat-card-header>
          <mat-card-title>Detalles de la Cuenta</mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <p><strong>Nombre de Usuario:</strong> {{ user()?.userName }}</p>
          <p><strong>Correo electr贸nico de la plataforma:</strong> {{ user()?.platformMail }}</p>
          <p><strong>Rol:</strong> {{ user()?.roles?.join(', ') }}</p>
          <p><strong>Fecha de Registro:</strong> {{ formattedFechaRegistro }}</p>
        </mat-card-content>
      </mat-card>
    </div>

    <h2 class="section-title">Informaci贸n de tu ltima Sesi贸n</h2>
    <table mat-table [dataSource]="sessionDataSource" class="mat-elevation-z8 session-table">

      <ng-container matColumnDef="icon">
        <td mat-cell *matCellDef="let element">
          <mat-icon>{{element.icon}}</mat-icon>
        </td>
      </ng-container>

      <ng-container matColumnDef="concept">
        <th mat-header-cell *matHeaderCellDef> Concepto </th>
        <td mat-cell *matCellDef="let element"> {{element.concept}} </td>
      </ng-container>

      <ng-container matColumnDef="value">
        <th mat-header-cell *matHeaderCellDef> Valor </th>
        <td mat-cell *matCellDef="let element"> {{element.value}} </td>
      </ng-container>

      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
  </div>
</div>
